<%= render '/works/form_errors' %>

<!--
  Information about Bootstrap tabs
  https://getbootstrap.com/docs/5.0/components/navs-tabs/
  https://getbootstrap.com/docs/5.0/components/navs-tabs/#javascript-behavior
-->
<div class="d-flex align-items-start">

<%= render  partial: '/works/form_nav', locals:  { additional_selected: false, required_selected: true,
                                                   additional_button_class: "", required_button_class: "show active" } %>

  <div>
    <%= form_with(model: @work, url: update_work_wizard_path(@work), class: ["work-form"], data: { work: @work.form_attributes }) do |form| %>
      <%= render partial: '/works/form_metadata', locals:  { form: form, required_class: "show active", additional_class: "" } %>

      <hr />
      <div class="actions">
        <%= link_to 'Cancel', user_path(current_user), class: "btn btn-secondary" %>

        <%= form.submit "Next", class: "btn btn-primary wizard-next-button", id: "btn-submit" %>
        <%= form.button 'Save', type: 'submit', name: 'save_only', value: 'true', class: "btn btn-save wizard-next-button" %>
      </div>

      <%= render '/works/form_hidden_fields' %>
    <% end %>
  </div>
</div>

<div class="section-title">
  <b>Additional Organizational Contributors</b>
</div>

<table>
  <thead>
    <tr class="header-row">
      <th>ROR</th>
      <th>Name</th>
      <th>Role</th>
    </tr>
  </thead>
  <tbody>
    <% (@work.resource.organizational_contributors + [nil]).each do |contributor| %>
      <tr>
        <td>
          <input name="organizational_contributors[][ror]" value="<%= contributor&.ror %>" placeholder="https://ror.org/........" pattern="https://ror.org/0[a-z|0-9]{6}[0-9]{2}" class="ror-input" />
        </td>
        <td>
          <input name="organizational_contributors[][name]" value="<%= contributor&.name %>" />
        </td>
        <td>
          <select name="organizational_contributors[][type]">
            <% ::Datacite::Mapping::ContributorType.map(&:value).each do |contributor_type| %>
              <option value="<%= contributor_type %>"
                <%= contributor&.type == contributor_type ? "selected" : "" %>
              ><%= contributor_type %></option>
            <% end %>
          </select>
        </td>
      </tr>
    <% end %>
  </tbody>
  <tfoot>
    <tr>
      <td>
        <button class="btn btn-secondary btn-add-row">
          Add Another Organizational Contributor
        </button>
      </td>
    </tr>
  </tfoot>
</table>